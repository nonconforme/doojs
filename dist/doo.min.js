(function(){"use strict";var a=function(b,c,d){b(c),setTimeout(a,d,b,c,d)},b=function(){var b=function(a){var b=this.xhr();"undefined"!==a.timeout&&"number"===a.timeout&&(b.timout=a.timeout);var c="";"undefined"!==a.pathname&&(/\?$/.test(a.host)||(c="?"),c+=encodeURIComponent(a.pathname)),b.open("GET",a.host+c),b.withCredentials=!0,"undefined"!==a.type&&(b.overrideMimeType(a.type),b.setRequestHeader("Content-Type",a.type)),b.addEventListener("load",function(){if(this.readyState===this.DONE&&200===this.status){var c={};try{c="json"===a.dataType?JSON.parse(b.responseText):"xml"===a.dataType?b.responseXML:b.responseText}catch(d){console.error("received the data not been typecast.",d),a.error({error:1,status:"received the data not been typecast.",response:b.responseText})}a.success(c)}else if(this.readyState===this.DONE&&200!==this.status)return a.error({error:b.status,status:b.statusText})},!1),b.addEventListener("error",function(b){a.error(b)},!1),b.send(null)},c=function(a,b){var c,d;if("undefined"!==b.formData)d=new FormData(b.formData);else{if("undefined"===b.data){if("undefined"!==b.error&&"function"==typeof b.error)return b.error({status:"You make a post without sending data..."});throw new Error("You make a post without sending data...")}d=new FormData;for(var e in b.data)d.append(e,b.data[e])}c=this.xhr(),"undefined"!==b.timeout&&"number"==typeof b.timeout&&(c.timout=b.timeout),c.open("POST",b.host),"undefined"!==b.credential&&(c.withCredentials=b.credential),"undefined"!==b.type&&(c.overrideMimeType(b.type),c.setRequestHeader("Content-Type",b.type)),c.addEventListener("load",function(){if(this.readyState===this.DONE&&200===this.status)try{b.success(JSON.parse(c.responseText))}catch(a){return console.error("received the data not been typecast.",a),b.error({error:!0,status:c.responseText})}else if(this.readyState===this.DONE&&200!==this.status)return b.error({code:c.status,statusText:c.statusText,host:b.host})},!1),c.addEventListener("error",function(a){b.error(a)},!1),c.send(d)},d=function(a,b){return function(c,d){if(-1===c.indexOf("."+b))return d({error:a}),this;var e=this.xhr();return e.open("GET",c),e.onload=function(){d("json"===b?JSON.parse(e.responseText):e.responseXML)},e.onerror=function(a){d(a)},e.send(null),this}};return function(){this.get=function(c){if(arguments.length>1&&"string"==typeof c&&"function"==typeof arguments[1]){var d=arguments[1],e=this.xhr();return e.open("GET",c),e.onload=function(){d(!1,JSON.parse(e.responseText))},e.onerror=function(a){d({status:a},null)},e.send(null),this}if(("undefined"===c.credential||c.credential!==!0)&&(c.credential=!1),"undefined"!==c.interval&&"undefined"!==c.timeout)throw c.error({error:0,status:"timeout interval properties should not be set at the same time"}),new Error("timeout and interval properties should not be set at the same time");return"undefined"===c.dataType&&(c.dataType="json"),"undefined"!==c.interval?a(b,c,c.timeout):b(c),this},this.getJSON=sendJSON("File isn't JSON.","json"),this.getXML=d("File isn'XML","xml"),this.post=function(a){return("undefined"===a.credential||a.credential!==!0)&&(a.credential=!1),c(a),this}}}();b.prototype.version="0.1.2",b.prototype.xhr=function(){return"XMLHttpRequest"in window?new XMLHttpRequest:new ActiveXObejct(Microsoft.XML)},this.doo=new b}).call(this);